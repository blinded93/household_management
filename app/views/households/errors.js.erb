<% household.completed_fields.each do |field| %>
  var el = document.getElementById("<%= household.id_name(field).html_safe %>");
  el.classList.remove("border");
  el.classList.remove("border-danger");
<% end %>
<% household.errors.messages.each do |field, error| %>
  <% unless field == :members %>
    var el = document.getElementById("<%= household.id_name(field).html_safe %>");
    el.classList.add("border");
    el.classList.add("border-danger");
  <% end %>
<% end %>
document.getElementById("household_errors").innerHTML = "<%= j render 'shared/errors', obj:household %>";

<% member.completed_fields.each do |field| %>
  var el = document.getElementById("<%= member.nested_id_name(field).html_safe %>");
  el.classList.remove("border");
  el.classList.remove("border-danger");
<% end %>
<% member.errors.messages.each do |field, error| %>
  var el2 = document.getElementById("<%= member.nested_id_name(field).html_safe %>");
  el2.classList.add("border");
  el2.classList.add("border-danger");
<% end %>
document.getElementById("member_errors").innerHTML = "<%= j render 'shared/errors', obj:member %>";
